<HTML>
<HEAD>
 <TITLE>Calculatrice</TITLE>
</HEAD>
<SCRIPT language="Javascript">
var flagsqrt;
function Calcule() {
 with(window.document.calc)
 nb.value = Math.sqrt(nb.value);
 flagsqrt = 1;
}

function Carre() {
 with(window.document.calc)
 nb.value = Math.pow(nb.value, 2);
 flagsqrt = 1;
}

function Effacer() {
 window.document.calc.nb.value = "";
 flagsqrt = 1;
}
function ValeurEntree(valeur) {
 if(flagsqrt) { /* si on vient d\'obtenir un resultat */
 window.document.calc.nb.value="";
 flagsqrt = 0;
 }
 
 
 
 with(window.document.calc) {
 switch (valeur) {
 case '0': if(nb.value.length != 0) nb.value += '0'; break;
 case '1': nb.value += '1'; break;
 case '2': nb.value += '2'; break;
 case '3': nb.value += '3'; break;
 case '4': nb.value += '4'; break;
 case '5': nb.value += '5'; break;
 case '6': nb.value += '6'; break;
 case '7': nb.value += '7'; break;
 case '8': nb.value += '8'; break;
 case '9': nb.value += '9'; break;
 default: window.alert("pb dans switch");
 }
 }
 
}
</SCRIPT>
<BODY bgcolor="#FFFFCC">
<FORM action="" name="calc">
<TABLE border="0">
 <TR>
 <TD><INPUT type="button" value="1" onClick="ValeurEntree('1')"></TD>
 <TD><INPUT type="button" value="2" onClick="ValeurEntree('2')"></TD>
 <TD><INPUT type="button" value="3" onClick="ValeurEntree('3')"></TD>
 </TR>
 <TR>
 <TD><INPUT type="button" value="4" onClick="ValeurEntree('4')"></TD>
 <TD><INPUT type="button" value="5" onClick="ValeurEntree('5')"></TD>
 <TD><INPUT type="button" value="6" onClick="ValeurEntree('6')"></TD>
 </TR>
 <TR>
 <TD><INPUT type="button" value="7" onClick="ValeurEntree('7')"></TD>
 <TD><INPUT type="button" value="8" onClick="ValeurEntree('8')"></TD>
 <TD><INPUT type="button" value="9" onClick="ValeurEntree('9')"></TD>
 </TR>
 <TR>
 <TD><INPUT type="button" value="0" onClick="ValeurEntree('0')"></TD>
 <TD><INPUT type="reset" value="C" onClick="nb.value=''"></TD>
 <TD><INPUT type="button" value="sqrt" onClick="Calcule()"></TD>
 <TD><INPUT type="button" value="xÂ²" onClick="Carre()"</TD>
 </TR>
</TABLE>
<INPUT type="text" size="10" maxlength="10" name="nb" value="" style="text-align:right">
</FORM>
</BODY>
</HTML>